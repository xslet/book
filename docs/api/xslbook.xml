<?xml version="1.0" encoding="UTF-8"?><?xml-stylesheet type="application/xml" href="xsldoc/xsldoc.xsl"?><!-- xslbook.xsl v0.1. Copyright (C) xslet@github. MIT License --><!--** xslbook.xsl ver0.1 - API Document

** Copyright (C) xslet@github
** MIT License
--><xsl:stylesheet xmlns:ut="https://github.com/xslet/2020/xslutil" xmlns:do="https://github.com/xslet/2020/xsldo" xmlns:bk="https://github.com/xslet/2020/xslbook" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"><!--** The URL of the XSL file. --><xsl:param name="bk:xsl_url"><xsl:call-template name="ut:get_xsl_url"/></xsl:param><!--** The directory URL of the XSL file. --><xsl:param name="bk:xsl_dir"><xsl:call-template name="ut:get_dir_from_url"><xsl:with-param name="url" select="$bk:xsl_url"/></xsl:call-template></xsl:param><!--**
  Prints a HTML element.
 --><xsl:template match="p|br|hr|b|i|u|s|code|sup|sub|q"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generate-id of a base node. --><xsl:param name="data_gid"/><!--** A flag if text node is allowed. --><xsl:param name="allow_text_node" select="$ut:true"/><!--** Elements which are denied to be applied. --><xsl:param name="deny">|attr|</xsl:param><!--** Any argument 0. --><xsl:param name="arg0"/><!--** Any argument 1. --><xsl:param name="arg1"/><!--** Any argument 2. --><xsl:param name="arg2"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:element name="{name()}"><xsl:for-each select="attribute::*"><xsl:attribute name="{name()}"><xsl:value-of select="."/></xsl:attribute></xsl:for-each><xsl:for-each select="attr"><xsl:attribute name="{@name}"><xsl:apply-templates><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:apply-templates></xsl:attribute></xsl:for-each><xsl:apply-templates select="node()[name()!='attr']"><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:apply-templates></xsl:element></xsl:template><!--**
   Prints a bar in text.
 --><xsl:template match="bar"><span class="bar">───</span></xsl:template><!--**
   Prints a set of dots in text.
 --><xsl:template match="dots"><span class="dots">･･････</span></xsl:template><!--**
  The topmost element of xslbook document.
  `book` element is the legitimate element. `xslbook` is remained for old xslbook documents.
 --><xsl:template match="/book|/xslbook"><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"/></xsl:variable><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title><xsl:apply-templates select="title"><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="allow">|title|for|if|case|</xsl:with-param><xsl:with-param name="allow_text_node"/></xsl:apply-templates></title><xsl:call-template name="bk:_load_default_script"/><xsl:apply-templates select="script"/><xsl:call-template name="bk:_load_default_css"/><xsl:apply-templates select="css"/></head><body><main><header/><article class="book"><xsl:apply-templates select="title|for|if|case"><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="allow">|title|for|if|case|</xsl:with-param><xsl:with-param name="allow_text_node"/><xsl:with-param name="arg0">h1</xsl:with-param></xsl:apply-templates><div class="body"><xsl:apply-templates select="body"><xsl:with-param name="data_url" select="$_data_url"/></xsl:apply-templates></div></article><footer/></main></body></html></xsl:template><xsl:template name="bk:_load_default_script"><script src="{concat($bk:xsl_dir, '/xslbook.js')}"/></xsl:template><xsl:template name="bk:_load_default_css"><link rel="stylesheet" href="{concat($bk:xsl_dir, '/xslbook.css')}"/></xsl:template><!--
  The element to print titles of page, chapter, section, etc.
  `arg0` is used for a element's tag name which encloses a title text if it is needed.
 --><xsl:template match="title"><xsl:param name="data_url"/><xsl:param name="data_gid"/><xsl:param name="allow"/><xsl:param name="arg0"/><!-- Tag Name --><xsl:param name="arg1"/><xsl:param name="arg2"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:choose><xsl:when test="string-length($arg0) != 0"><xsl:element name="{$arg0}"><xsl:apply-templates><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:apply-templates></xsl:element></xsl:when><xsl:otherwise><xsl:apply-templates><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:apply-templates></xsl:otherwise></xsl:choose></xsl:template><!--**
  The element to print contents of page, chapter, section, etc.
 --><xsl:template match="body"><xsl:param name="data_url"/><xsl:param name="data_gid"/><xsl:param name="allow"/><xsl:param name="allow_text_node"/><xsl:param name="arg0"/><xsl:param name="arg1"/><xsl:param name="arg2"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:apply-templates><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="allow" select="$allow"/><xsl:with-param name="allow_text_node" select="$allow_text_node"/><xsl:with-param name="arg0" select="$arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:apply-templates></xsl:template><xsl:template match="/book/script|/xslbook/script"><xsl:choose><xsl:when test="boolean(@href)"><script src="{@href}"/></xsl:when><xsl:when test="boolean(@rpath)"><script src="{concat($bk:xsl_dir, '/', @rpath)}"/></xsl:when></xsl:choose></xsl:template><xsl:template match="/book/css|/xslbook/css"><xsl:choose><xsl:when test="boolean(@href)"><link rel="stylesheet" href="{@href}"/></xsl:when><xsl:when test="boolean(@rpath)"><link rel="stylesheet" href="{concat($bk:xsl_dir, '/', @rpath)}"/></xsl:when></xsl:choose></xsl:template><!--**
   Count elements at the specified path.
   The path is represented with `of` attributes.
   The prefix and suffix can be specified with `prefix` and `suffix` attributes.
 --><xsl:template match="count"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** An generate-id of a base node. --><xsl:param name="data_gid"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">of</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_prefix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">prefix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_suffix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">suffix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:call-template name="do:count_nodes_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="prefix" select="$_prefix"/><xsl:with-param name="suffix" select="$_suffix"/></xsl:call-template></xsl:template><!--**
   Get an URL of a data source by `data-src` attribute or a parameter from an ancestor element.
 --><xsl:template name="bk:get_data_url"><!--** An URL of external data file from an ancestor element. --><xsl:param name="data_url"/><xsl:choose><xsl:when test="boolean(@data-src)"><xsl:value-of select="@data-src"/></xsl:when><xsl:otherwise><xsl:value-of select="$data_url"/></xsl:otherwise></xsl:choose></xsl:template><!--**
   Get a generated ID of an element in an data source file.
   If `data-src` attribute is presented, this returns an empty string.
 --><xsl:template name="bk:get_data_gid"><!--** A generate-id of a base node from an ancestor element. --><xsl:param name="data_gid"/><xsl:if test="not(boolean(@data-src))"><xsl:value-of select="$data_gid"/></xsl:if></xsl:template><xsl:template match="if"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generated ID of a base node. --><xsl:param name="data_gid"/><!--** Elements which are allowed to be applied. --><xsl:param name="allow"/><!--** A flag if test node is allowed. --><xsl:param name="allow_text_node"/><!--** Any argument 0. --><xsl:param name="arg0"/><!--** Any argument 1. --><xsl:param name="arg1"/><!--** Any argument 2. --><xsl:param name="arg2"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">of</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_test"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">test</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_eq"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">eq</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_ne"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">ne</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_le"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">le</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_lt"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">lt</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_ge"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">ge</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_gt"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">gt</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_is_matched"><xsl:choose><xsl:when test="string-length($_path) != 0"><xsl:variable name="_content"><xsl:call-template name="do:first_object_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="what">content</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_is_not_matched"><xsl:if test="string-length($_eq) != 0 and not($_content = $_eq)">1</xsl:if><xsl:if test="string-length($_ne) != 0 and not($_content != $_ne)">1</xsl:if><xsl:if test="string-length($_le) != 0 and not($_content &lt;= $_le)">1</xsl:if><xsl:if test="string-length($_lt) != 0 and not($_content &lt; $_eq)">1</xsl:if><xsl:if test="string-length($_ge) != 0 and not($_content &gt;= $_ge)">1</xsl:if><xsl:if test="string-length($_gt) != 0 and not($_content &gt; $_gt)">1</xsl:if></xsl:variable><xsl:value-of select="string-length($_is_not_matched) = 0"/></xsl:when><xsl:otherwise><xsl:call-template name="do:match_condition_by_path"><xsl:with-param name="condition" select="$_test"/><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:otherwise></xsl:choose></xsl:variable><xsl:choose><xsl:when test="$_is_matched = $ut:true"><xsl:call-template name="do:for_times"><xsl:with-param name="times" select="1"/><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="allow" select="$allow"/><xsl:with-param name="allow_text_node" select="$allow_text_node"/><xsl:with-param name="deny">|attr|else|</xsl:with-param><xsl:with-param name="arg0" select="$arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:call-template></xsl:when><xsl:when test="boolean(else)"><xsl:for-each select="else"><xsl:call-template name="do:for_times"><xsl:with-param name="times" select="1"/><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="allow" select="$allow"/><xsl:with-param name="allow_text_node" select="$allow_text_node"/><xsl:with-param name="deny">|attr|else|</xsl:with-param><xsl:with-param name="arg0" select="$arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:call-template></xsl:for-each></xsl:when></xsl:choose></xsl:template><!--**
   Gets an attribute value if it exists, 
 --><xsl:template name="bk:get_attribute"><xsl:param name="name"/><xsl:param name="data_url"/><xsl:param name="data_gid"/><xsl:param name="arg0"/><xsl:param name="arg1"/><xsl:param name="arg2"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:choose><xsl:when test="@*[name()=$name]"><xsl:value-of select="@*[name()=$name]"/></xsl:when><xsl:when test="boolean(attr[@name=$name])"><xsl:apply-templates select="attr[@name=$name]"><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="arg0" select="$arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:apply-templates></xsl:when></xsl:choose></xsl:template><!--**
   Get a local-name of an element at the specified path which contains values of descendant elements.
   The path is specified with `of` attribute.
   The prefix and suffix can be specified with `prefix` and `suffix` attributes.
 --><xsl:template match="name"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generate-id of a base node. --><xsl:param name="data_gid"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">of</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_prefix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">prefix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_suffix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">suffix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:call-template name="do:first_object_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="what">name</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="prefix" select="$_prefix"/><xsl:with-param name="suffix" select="$_suffix"/></xsl:call-template></xsl:template><!--**
   Get a number value of an element at the specified path which contains values of descendant elements.
   The path is specified with `of` attribute.
   The prefix and suffix can be specified with `prefix` and `suffix` attributes.
 --><xsl:template match="number"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generate-id of a base node. --><xsl:param name="data_gid"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">of</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_prefix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">prefix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_suffix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">suffix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:call-template name="do:first_object_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="what">number</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="prefix" select="$_prefix"/><xsl:with-param name="suffix" select="$_suffix"/></xsl:call-template></xsl:template><!--**
   Loops for each node at a specified path or specified times.
   The path is specfied with `each` attribute.
   The times is specified with `times` attribute.
 --><xsl:template match="for"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generate-id of a base node. --><xsl:param name="data_gid"/><!--** Elements which are allowed to be applied. --><xsl:param name="allow"/><!--** A flag if test node is allowed. --><xsl:param name="allow_text_node"/><!--** Elements which are denied to be applied. --><xsl:param name="deny"/><!--** Any argument 0. --><xsl:param name="arg0"/><!--** Any argument 1. --><xsl:param name="arg1"/><!--** Any argument 2. --><xsl:param name="arg2"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">each</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_times"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">times</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:choose><xsl:when test="string-length($_times) != 0"><xsl:call-template name="do:for_times"><xsl:with-param name="times" select="$_times"/><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="allow" select="$allow"/><xsl:with-param name="allow_text_node" select="$allow_text_node"/><xsl:with-param name="deny" select="'|attr|'"/><xsl:with-param name="arg0" select="$arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:call-template></xsl:when><xsl:otherwise><xsl:call-template name="do:for_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="allow" select="$allow"/><xsl:with-param name="allow_text_node" select="$allow_text_node"/><xsl:with-param name="deny" select="'|attr|'"/><xsl:with-param name="arg0" select="$arg0"/><xsl:with-param name="arg1" select="$arg1"/><xsl:with-param name="arg2" select="$arg2"/></xsl:call-template></xsl:otherwise></xsl:choose></xsl:template><!--**
   Get a content of an element at the specified path which contains values of descendant elements.
   The path is specified with `of` attribute.
   The prefix and suffix can be specified with `prefix` and `suffix` attributes.
 --><xsl:template match="content"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generate-id of a base node. --><xsl:param name="data_gid"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">of</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_prefix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">prefix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_suffix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">suffix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:call-template name="do:first_object_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="what">content</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="prefix" select="$_prefix"/><xsl:with-param name="suffix" select="$_suffix"/></xsl:call-template></xsl:template><!--**
   Get a value of an element at the specified path which contains values of descendant elements.
   The path is specified with `of` attribute.
   The prefix and suffix can be specified with `prefix` and `suffix` attributes.
 --><xsl:template match="value"><!--** An URL of external data file. --><xsl:param name="data_url"/><!--** A generate-id of a base node. --><xsl:param name="data_gid"/><xsl:variable name="_data_url"><xsl:call-template name="bk:get_data_url"><xsl:with-param name="data_url" select="$data_url"/></xsl:call-template></xsl:variable><xsl:variable name="_data_gid"><xsl:call-template name="bk:get_data_gid"><xsl:with-param name="data_gid" select="$data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_path"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">of</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_prefix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">prefix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:variable name="_suffix"><xsl:call-template name="bk:get_attribute"><xsl:with-param name="name">suffix</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/></xsl:call-template></xsl:variable><xsl:call-template name="do:first_object_by_path"><xsl:with-param name="path" select="$_path"/><xsl:with-param name="what">text</xsl:with-param><xsl:with-param name="data_url" select="$_data_url"/><xsl:with-param name="data_gid" select="$_data_gid"/><xsl:with-param name="prefix" select="$_prefix"/><xsl:with-param name="suffix" select="$_suffix"/></xsl:call-template></xsl:template></xsl:stylesheet>